================================================================================
              Ã‰TAPE 6 : TESTS D'INTÃ‰GRITÃ‰ ET DE COMPLÃ‰TUDE (Niveau 3)
================================================================================

                         TEST 1 : Absence de valeurs NULL
--------------------------------------------------------------------------------

PS C:\...\td-migration-bdd> docker exec postgres-target psql -U postgres -d reservation_voyage `
  -c "SELECT count(*) as erreurs_email_null FROM utilisateurs WHERE email IS NULL;"

 erreurs_email_null 
--------------------
                  0
(1 row)

âœ… PASS : Aucun email NULL trouvÃ©

================================================================================

                         TEST 2 : IntÃ©gritÃ© des clÃ©s Ã©trangÃ¨res
--------------------------------------------------------------------------------

PS C:\...\td-migration-bdd> docker exec postgres-target psql -U postgres -d reservation_voyage `
  -c "SELECT count(*) as resa_orphelines FROM reservations r LEFT JOIN utilisateurs u ON r.utilisateur_id = u.id WHERE u.id IS NULL;"

 resa_orphelines
-----------------
               0
(1 row)

âœ… PASS : Aucune rÃ©servation orpheline (toutes liÃ©es Ã  un utilisateur valide)

================================================================================

                         TEST 3 : VolumÃ©trie - Utilisateurs
--------------------------------------------------------------------------------

PS C:\...\td-migration-bdd> docker exec postgres-target psql -U postgres -d reservation_voyage `
  -c "SELECT count(*) as total_utilisateurs FROM utilisateurs;"

 total_utilisateurs 
--------------------
                500
(1 row)

âœ… PASS : 500 utilisateurs attendus, 500 trouvÃ©s

================================================================================

                         TEST 4 : VolumÃ©trie - RÃ©servations
--------------------------------------------------------------------------------

PS C:\...\td-migration-bdd> docker exec postgres-target psql -U postgres -d reservation_voyage `
  -c "SELECT count(*) as total_reservations FROM reservations;"

 total_reservations 
--------------------
               1000
(1 row)

âœ… PASS : 1000 rÃ©servations attendues, 1000 trouvÃ©es

================================================================================
                         RÃ‰SUMÃ‰ DES TESTS
================================================================================

| Test                          | Attendu | RÃ©sultat | Statut |
|-------------------------------|---------|----------|--------|
| Emails NULL                   |       0 |        0 |   âœ…   |
| RÃ©servations orphelines       |       0 |        0 |   âœ…   |
| Nombre d'utilisateurs         |     500 |      500 |   âœ…   |
| Nombre de rÃ©servations        |    1000 |     1000 |   âœ…   |

================================================================================
              ðŸŽ‰ TOUS LES TESTS D'INTÃ‰GRITÃ‰ SONT PASSÃ‰S AVEC SUCCÃˆS ðŸŽ‰
================================================================================
